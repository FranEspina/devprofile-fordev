---
import { getUserResumeSection } from "../../../services/apiService";
import { type Work } from "../../../Schemas/workSchema";
import { type apiResultType } from "../../../types/apiTypes";
import WorkElement from "@/components/templates/midudev/WorkElement.astro";

const { userId } = Astro.props;

const result: apiResultType<Work[]> = await getUserResumeSection<Work>(
  "work",
  Number(userId),
);

const { success, data: works } = result;
---

{works && works.map((w) => <WorkElement work={w} />)}
